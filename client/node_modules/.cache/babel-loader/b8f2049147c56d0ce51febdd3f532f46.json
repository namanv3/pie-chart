{"ast":null,"code":"var _jsxFileName = \"/Users/namanv3/Desktop/pie-chart/client/src/MyPieChart.js\";\nimport React from \"react\";\nimport ToggleSeparation from \"./ToggleSeparation\";\nimport { PieChart } from \"react-minimal-pie-chart\"; // https://www.npmjs.com/package/react-minimal-pie-chart\n\nclass MyPieChart extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      separation: 0,\n      hovered: -1,\n      selected: -1\n    };\n    this.componentRef = React.createRef();\n\n    this.increaseSeparation = () => {\n      this.setState({\n        separation: this.state.separation + 1\n      });\n    };\n\n    this.decreaseSeparation = () => {\n      if (this.state.separation > 0) this.setState({\n        separation: this.state.separation - 1\n      });else this.setState({\n        separation: 0\n      });\n    };\n\n    this.componentDidMount = () => {\n      // Simple POST request with a JSON body using fetch\n      const requestOptions = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          title: 'React POST Request Example'\n        })\n      };\n      fetch(\"/submissions\", requestOptions).then(response => response.json()).then(data => this.setState({\n        postId: data.id\n      }));\n    };\n  }\n\n  render() {\n    const {\n      data,\n      showPercentage\n    } = this.props;\n    const nonZeroData = data.filter((d, i) => {\n      return d.value !== 0;\n    });\n\n    if (nonZeroData.length !== 0) {\n      if (showPercentage) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(ToggleSeparation, {\n          increase: this.increaseSeparation,\n          decrease: this.decreaseSeparation,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 7\n          }\n        }), /*#__PURE__*/React.createElement(PieChart, {\n          data: nonZeroData,\n          label: ({\n            dataEntry\n          }) => dataEntry.key + \" : \" + `${Math.round(dataEntry.percentage)} %`,\n          labelStyle: index => ({\n            fontSize: (index === this.state.selected ? '6' : '3') + 'px',\n            fontFamily: 'sans-serif',\n            backgroundColor: 'white'\n          }),\n          radius: 24,\n          labelPosition: 110,\n          segmentsShift: index => this.state.separation / 10 + (index === this.state.hovered ? 2 : 0),\n          onClick: (_, index) => {\n            this.setState({\n              selected: this.state.selected === index ? -1 : index\n            });\n          },\n          onMouseOver: (_, index) => {\n            this.setState({\n              hovered: index\n            });\n          },\n          onMouseOut: () => {\n            this.setState({\n              hovered: -1\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 7\n          }\n        }), /*#__PURE__*/React.createElement(\"button\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 7\n          }\n        }, \" Add Pie Chart for Submission Review \"));\n      } else return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(ToggleSeparation, {\n        increase: this.increaseSeparation,\n        decrease: this.decreaseSeparation,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(PieChart, {\n        ref: this.componentRef,\n        data: nonZeroData,\n        label: ({\n          dataEntry\n        }) => dataEntry.key + \" : \" + dataEntry.value,\n        labelStyle: index => ({\n          fontSize: (index === this.state.selected ? '6' : '3') + 'px',\n          cursor: 'pointer',\n          fontFamily: 'sans-serif',\n          backgroundColor: 'white'\n        }),\n        radius: 24,\n        labelPosition: 110,\n        segmentsShift: index => this.state.separation / 10 + (index === this.state.hovered ? 2 : 0),\n        onClick: (_, index) => {\n          this.setState({\n            selected: this.state.selected === index ? -1 : index\n          });\n        },\n        onMouseOver: (_, index) => {\n          this.setState({\n            hovered: index\n          });\n        },\n        onMouseOut: () => {\n          this.setState({\n            hovered: -1\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 7\n        }\n      }, \" Add Pie Chart for Submission Review \"));\n    } else return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    });\n  }\n\n}\n\nexport default MyPieChart;","map":{"version":3,"sources":["/Users/namanv3/Desktop/pie-chart/client/src/MyPieChart.js"],"names":["React","ToggleSeparation","PieChart","MyPieChart","Component","state","separation","hovered","selected","componentRef","createRef","increaseSeparation","setState","decreaseSeparation","componentDidMount","requestOptions","method","headers","body","JSON","stringify","title","fetch","then","response","json","data","postId","id","render","showPercentage","props","nonZeroData","filter","d","i","value","length","dataEntry","key","Math","round","percentage","index","fontSize","fontFamily","backgroundColor","_","cursor"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport ToggleSeparation from \"./ToggleSeparation\"\nimport { PieChart } from \"react-minimal-pie-chart\"\n// https://www.npmjs.com/package/react-minimal-pie-chart\n\nclass MyPieChart extends React.Component {\n\tstate = {\n\t\tseparation: 0,\n\t\thovered: -1,\n\t\tselected: -1,\n\t}\n\n\tcomponentRef = React.createRef();\n\n\tincreaseSeparation = () => {\n\t\tthis.setState({separation: this.state.separation + 1})\n\t}\n\n\tdecreaseSeparation = () => {\n\t\tif (this.state.separation > 0) this.setState({separation: this.state.separation - 1})\n\t\telse this.setState({separation: 0})\n\t}\n\n\tcomponentDidMount = () => {\n\t\t// Simple POST request with a JSON body using fetch\n\t\tconst requestOptions = {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\tbody: JSON.stringify({ title: 'React POST Request Example' })\n\t\t};\n\t\tfetch(\"/submissions\", requestOptions)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => this.setState({ postId: data.id }));\n\t}\n\n\trender () {\n\t\tconst { data, showPercentage } = this.props\n\t\tconst nonZeroData = data.filter((d, i) => {return d.value !== 0})\n\t\tif (nonZeroData.length !== 0) {\n\t\t\tif (showPercentage) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<ToggleSeparation increase={this.increaseSeparation} decrease={this.decreaseSeparation}/>\n\t\t\t\t\t\t<PieChart \n\t\t\t\t\t\t\tdata={nonZeroData} \n\t\t\t\t\t\t\tlabel={({ dataEntry }) => dataEntry.key + \" : \" + `${Math.round(dataEntry.percentage)} %`}\n\t\t\t\t\t\t\tlabelStyle={(index) => ({\n\t\t\t\t\t\t\t\tfontSize: (index === this.state.selected ? '6' : '3') + 'px',\n\t\t\t\t\t\t\t\tfontFamily: 'sans-serif',\n\t\t\t\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tradius={24}\n\t\t\t\t\t\t\tlabelPosition={110}\n\t\t\t\t\t\t\tsegmentsShift={(index) => (this.state.separation/10 + (index === this.state.hovered ? 2 : 0))}\n\t\t\t\t\t\t\tonClick={(_,index) => {\n\t\t\t\t\t\t\t\tthis.setState({selected: this.state.selected === index ? -1 : index})\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonMouseOver={(_, index) => {\n\t\t\t\t\t\t\t\tthis.setState({hovered: index});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonMouseOut={() => {\n\t\t\t\t\t\t\t\tthis.setState({hovered: -1});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button> Add Pie Chart for Submission Review </button>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse return (\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<ToggleSeparation increase={this.increaseSeparation} decrease={this.decreaseSeparation}/>\n\t\t\t\t\t\t<PieChart\n\t\t\t\t\t\t\tref={this.componentRef}\n\t\t\t\t\t\t\tdata={nonZeroData} \n\t\t\t\t\t\t\tlabel={({ dataEntry }) => dataEntry.key + \" : \" + dataEntry.value}\n\t\t\t\t\t\t\tlabelStyle={(index) => ({\n\t\t\t\t\t\t\t\tfontSize: (index === this.state.selected ? '6' : '3') + 'px',\n\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\tfontFamily: 'sans-serif',\n\t\t\t\t\t\t\t\tbackgroundColor: 'white'\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tradius={24}\n\t\t\t\t\t\t\tlabelPosition={110}\n\t\t\t\t\t\t\tsegmentsShift={(index) => (this.state.separation/10 + (index === this.state.hovered ? 2 : 0))}\n\t\t\t\t\t\t\tonClick={(_,index) => {\n\t\t\t\t\t\t\t\tthis.setState({selected: this.state.selected === index ? -1 : index})\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonMouseOver={(_, index) => {\n\t\t\t\t\t\t\t\tthis.setState({hovered: index});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonMouseOut={() => {\n\t\t\t\t\t\t\t\tthis.setState({hovered: -1});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button> Add Pie Chart for Submission Review </button>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t}\n\t\telse return <div className=\"container\"></div>\n\n\t}\n}\n\nexport default MyPieChart"]},"metadata":{},"sourceType":"module"}